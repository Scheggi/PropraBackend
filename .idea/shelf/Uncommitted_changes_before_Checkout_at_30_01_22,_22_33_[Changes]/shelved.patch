Index: tools_get_wheels.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import AsyncStorage from '@react-native-async-storage/async-storage';\nimport {createKeyboardAwareNavigator} from 'react-navigation';\n\n//get one Wheel by id\nfunction getWheel_by_id(accesstoken,id) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/getWheel', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          id:id,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        getWheel_by_id(token,id);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n// get Wheels by id\nfunction getWheels_by_id(accesstoken,id) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/getWheels', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          id:id,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        getWheels_by_id(token,id);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n//getDropdown\n// get Wheels by id\nfunction getDropdown(accesstoken,raceID) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/dropdown', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          raceID:raceID,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        getDropdown(token,raceID);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n//get all info\n///wheel_cont/getWheels_withWheel\n// geht set informarion\nfunction getWheelInformations(accesstoken,raceID) {\n    return timeoutPromise(2000, fetch('https:/api.race24.cloud/wheel_cont/getgreatList', {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            access_token: accesstoken,\n            raceID:parseInt(raceID),\n        })\n    })).then(response => response.json()).then(data => {\n        console.log(data);\n        if ('msg' in data){\n            if (data['msg'] === 'Token has expired'){\n                refreshToken().then( token => {\n                    getWheelInformations(token,raceID);\n                    }\n                ).catch( function (error) {\n                        console.log('Refresh failed');\n                        console.log(error);\n                    }\n                );\n                return [];\n            }\n        }\n        else{\n            console.log('Return Data');\n            console.log(data[0].data);\n            return data[0].data;\n        }\n        return [];\n    }).catch(function (error) {\n        console.log('fr');\n        return [];\n    })\n}\n\n\n///wheel_cont/getWheels_withWheel\n// geht set information\nfunction getWheelSetInformation(accesstoken,id) {\n    return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/getIdsWheelSet', {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            access_token: accesstoken,\n            id:parseInt(id),\n        })\n    })).then(response => response.json()).then(data => {\n        console.log(data);\n        if ('msg' in data){\n            if (data['msg'] === 'Token has expired'){\n                refreshToken().then( token => {\n                    getWheelSetInformation(token,id);\n                    }\n                ).catch( function (error) {\n                        console.log('Refresh failed');\n                        console.log(error);\n                    }\n                );\n                return [];\n            }\n        }\n        else{\n            console.log('Return Data');\n            console.log(data[0].data);\n            return data[0].data;\n        }\n        return [];\n    }).catch(function (error) {\n        console.log(error);\n        return [];\n    })\n}\n\n// create Reifendruck\nasync function createReifendruckRequest(accesstoken,raceID) {\n    return await timeoutPromise(2000, fetch(\n            'https://api.race24.cloud/wheel_cont/createReifencontigent', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    access_token:accesstoken,\n                    raceID:raceID,\n                })\n            })\n            ).then(response => response.json()).then(data => {\n                console.log(data)\n                if (\"msg\" in data){\n                            if (data[\"msg\"] === \"Token has expired\"){\n                                refreshToken().then( token => {\n                                    createReifendruckRequest(token,raceID);\n                                    }\n                                ).catch( function (error) {\n                                        console.log(\"Refresh failed\");\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  return data[0].id;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n// get Reifendruck Formel\nfunction getReifendruckDetails(accesstoken,raceID) {\n    return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/getReifendruck', {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            access_token: accesstoken,\n            raceID:raceID\n        })\n    })).then(response => response.json()).then(data => {\n        console.log(data);\n        if ('msg' in data){\n            if (data['msg'] === 'Token has expired'){\n                refreshToken().then( token => {\n                    getReifendruckDetails(token,raceID);\n                    }\n                ).catch( function (error) {\n                        console.log('Refresh failed');\n                        console.log(error);\n                    }\n                );\n                return [];\n            }\n        }\n        else{\n            console.log('Return Data');\n            console.log(data[0].data);\n            return data[0].data;\n        }\n        return [];\n    }).catch(function (error) {\n        console.log(error);\n        return [];\n    })\n}\n\n\n\n\n// get Wheels _with Wheel\nfunction getWheel_with_Wheel(accesstoken,id) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/getWheels_withWheel', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          id:id,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        getWheel_with_Wheel(token,id);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n// get raceID_cat_subcat_status\nfunction get_raceID_cat_subcat_status(accesstoken,raceID,cat,subcat,status) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/raceID_cat_subcat_status', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          raceID:raceID,\n          cat:cat,\n          subcat:subcat,\n          status:status,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        get_raceID_cat_subcat_status(token,raceID,cat,subcat,status);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n///wheel_cont/Set/raceID_cat_setNr  check\nfunction get_raceID_cat_setNr(accesstoken,raceID,cat,setNR) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/raceID_cat_setNr', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          raceID:raceID,\n          cat:cat,\n          setNR:setNR,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        get_raceID_cat_setNr(token,raceID,cat,setNR);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n//wheel_Set by id\nfunction get_WheelSet_id(accesstoken,id) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/id', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          id:id,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        get_WheelSet_id(token,id);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n//wheel_Set by id\nfunction get_WheelSet_raceID_status(accesstoken,raceID) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/status_raceID', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          raceID:raceID,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        get_WheelSet_raceID_status(token,raceID);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n// start Order Wheel\n//wheel_Set by id\nfunction get_Dict_WheelOrder(accesstoken,raceID) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/OrderWheelDict', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          raceID:raceID,\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        get_Dict_WheelOrder(token,raceID);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n\n\n//wheel_Set by raceID_cat_subcat\nfunction get_raceID_cat_subcat(accesstoken,raceID,cat,subcat) {\n  return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/Set/raceID_cat_subcat', {\n      method: 'POST',\n      headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n          access_token: accesstoken,\n          raceID:raceID,\n          cat:cat,\n          subcat:subcat\n      })\n      })).then(response => response.json()).then(data => {\n              console.log(data);\n              if ('msg' in data){\n                            if (data['msg'] === 'Token has expired'){\n                                refreshToken().then( token => {\n                                        get_raceID_cat_subcat(token,raceID,cat,subcat);\n                                    }\n                                ).catch( function (error) {\n                                        console.log('Refresh failed');\n                                        console.log(error);\n                                    }\n                                );\n                                return [];\n                            }\n                        }\n              else{\n                  console.log('Return Data');\n                  console.log(data[0].data);\n                  return data[0].data;\n              }\n              return [];\n      }).catch(function (error) {\n            console.log(error);\n            return [];\n        })\n}\n\n\n//  ----------------------------------------------------------------------------------------------\n\nfunction timeoutPromise(ms, promise) {\n  return new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error('promise timeout'))\n    }, ms);\n    promise.then(\n      (res) => {\n        clearTimeout(timeoutId);\n        resolve(res);\n      },\n      (err) => {\n        clearTimeout(timeoutId);\n        reject(err);\n      }\n    );\n  })\n}\n\n\n\nasync function refreshToken() {\n  let accesstoken = await AsyncStorage.getItem('accesstoken');\n  let refreshtoken = await AsyncStorage.getItem('refreshtoken');\n  await timeoutPromise(2000, fetch(\n      'https://api.race24.cloud/user/auth/refresh', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          access_token: accesstoken,\n          refresh_token: refreshtoken,\n        })\n      }\n  )).then(\n      response => response.json()\n  ).then(\n      data => {\n        AsyncStorage.setItem('accesstoken', String(data.access_token));\n      }\n  )\n}\n\nexport {getDropdown,get_Dict_WheelOrder,getWheelSetInformation,getWheelInformations,createReifendruckRequest,getReifendruckDetails }
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/tools_get_wheels.js b/tools_get_wheels.js
--- a/tools_get_wheels.js	(revision 7f7139a72e590f11f1008df7eb58794714a2cbdb)
+++ b/tools_get_wheels.js	(date 1643578354538)
@@ -282,9 +282,6 @@
     })
 }
 
-
-
-
 // get Wheels _with Wheel
 function getWheel_with_Wheel(accesstoken,id) {
   return timeoutPromise(2000, fetch('https://api.race24.cloud/wheel_cont/getWheels_withWheel', {
