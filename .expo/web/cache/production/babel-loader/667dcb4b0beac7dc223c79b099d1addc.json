{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import React from\"react\";import Button from\"react-native-web/dist/exports/Button\";import Picker from\"react-native-web/dist/exports/Picker\";import Text from\"react-native-web/dist/exports/Text\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ToastAndroid from\"react-native-web/dist/exports/ToastAndroid\";import View from\"react-native-web/dist/exports/View\";import{styles}from\"./styles\";import AsyncStorage from'@react-native-async-storage/async-storage';import{timeoutPromise,refreshToken,syncData}from\"./tools\";import PickerItem from\"react-native-web/dist/exports/Picker/PickerItem\";import image from\"./logo.png\";var NewUserScreen=function(_React$Component){_inherits(NewUserScreen,_React$Component);var _super=_createSuper(NewUserScreen);function NewUserScreen(props){var _this;_classCallCheck(this,NewUserScreen);_this=_super.call(this,props);_this.changeRace=function(event){event.preventDefault();_this.getGroup();};_this.changeNewRace=function(event){event.preventDefault();_this.props.navigation.push('NewRace');};_this.changeNewOrder=function(event){event.preventDefault();_this.props.navigation.push('NewOrder');};_this.changeWeather=function(event){event.preventDefault();_this.props.navigation.push('Weather');};_this.changeShowRace=function(event){event.preventDefault();_this.props.navigation.push('ShowRace');};_this.changeWheel=function(event){event.preventDefault();_this.props.navigation.push('Wheel');};_this.changeNewFormel=function(event){event.preventDefault();_this.props.navigation.push('NewFormel');};_this.changeAstrid=function(event){event.preventDefault();_this.props.navigation.push('Astrid');};_this.changeNiklas=function(event){event.preventDefault();_this.props.navigation.push('Niklas');};_this.changeMaen=function(event){event.preventDefault();_this.props.navigation.push('Maen');};_this.changeLogout=function(event){event.preventDefault();_this.props.navigation.replace('Logout');};_this.changeHelper=function(event){event.preventDefault();_this.props.navigation.push('Helper');};_this.state={firstname:'',lastname:'',username:'',password:'',group:'Helper'};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(NewUserScreen,[{key:\"handleChange\",value:function handleChange(event){this.setState({group:event.target.group});}},{key:\"handleSubmitDrop\",value:function handleSubmitDrop(event){alert('group is: '+this.state.group);event.preventDefault();}},{key:\"getGroup\",value:function getGroup(){var group;return _regeneratorRuntime.async(function getGroup$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"usergroup\"));case 2:group=_context.sent;console.log(group);if(group===\"Helper\"){this.props.navigation.push(\"HelperNavigator\");}if(group===\"Ingenieur\"){this.props.navigation.push(\"Nav\");}if(group===\"Manager\"){this.props.navigation.push(\"Race\");}case 7:case\"end\":return _context.stop();}}},null,this,null,Promise);}},{key:\"validateForm\",value:function validateForm(){return this.state.username.length>0&&this.state.password.length>0;}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.sendNewRaceRequest(this.state.username,this.state.firstname,this.state.lastname,this.state.password,this.state.group);this.props.navigation.push('Race');}},{key:\"sendNewRaceRequest\",value:function sendNewRaceRequest(username,firstname,lastname,password,group){var _this2=this;return _regeneratorRuntime.async(function sendNewRaceRequest$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(group);timeoutPromise(2000,fetch('https://api.race24.cloud/user/create',{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({username:username,first_name:firstname,last_name:lastname,password:password,group:group})})).then(function(response){return response.json();}).then(function(data){if(data[1]==200){console.log(data[0]);_this2.props.navigation.replace('Race');}else{console.log(\"failed\");}}).catch(function(error){console.log(error);});case 2:case\"end\":return _context2.stop();}}},null,null,null,Promise);}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(View,{style:{overflowY:'scroll',flex:1,backgroundColor:'#2e3742'}},React.createElement(\"nav\",{className:\"navbar navbar-light\",style:{backgroundColor:'#d0d7de'}},React.createElement(\"div\",{className:\"container-fluid\"},React.createElement(\"a\",{className:\"navbar-brand\",href:\"#\"},\" \",React.createElement(\"img\",{src:image,style:{width:'70%'}}),\" \"),React.createElement(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\"},React.createElement(\"span\",{className:\"navbar-toggler-icon\"})),React.createElement(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\"},React.createElement(\"ul\",{className:\"navbar-nav me-auto mb-2 mb-lg-0\"},React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeRace},\"Hauptmen\\xFC\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeNewRace},\"Neue Renndaten anlegen\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeShowRace},\"Renndaten anzeigen\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeNewOrder},\"Reifenbestellungen verwalten\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeAstrid},\"Berechnung Reifendruck\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeWheel},\"Reifendetails anzeigen\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeHelper},\"Wetterdaten erfassen \")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeWeather},\"Wetterdaten anzeigen\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeMaen},\"Statistiken anzeigen\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{style:{backgroundColor:'#d0d7de'},className:\"btn btn-sm\",\"aria-current\":\"page\",onClick:this.changeNewFormel},\"Formel Reifendruck anlegen\")),React.createElement(\"br\",null),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"button\",{className:\"btn btn-primary btn-sm\",\"aria-current\":\"page\",onClick:this.changeLogout},\"Ausloggen\")))))),React.createElement(\"div\",{className:\"container\",style:{marginLeft:'auto',marginRight:'auto'}},React.createElement(\"br\",null),React.createElement(\"h1\",{className:\"display-4\",style:{color:'#d0d7de',textAlign:'center'}},\" Neues Mitglied anlegen\"),React.createElement(\"br\",null)),React.createElement(\"div\",{className:\"input-group\"},React.createElement(\"label\",{className:\"input-group-text\",style:{backgroundColor:'#d0d7de',marginLeft:'auto',marginRight:'auto'}},\"Gruppe ausw\\xE4hlen: \\xA0\",React.createElement(\"select\",{id:\"option\",group:this.state.group,onChange:function onChange(text){return _this3.setState({group:text.target.value});}},React.createElement(\"option\",{group:\"Helfer\"},\"Helfer\"),React.createElement(\"option\",{group:\"Manager\"},\"Manager\"),React.createElement(\"option\",{group:\"Ingenieur\"},\"Ingenieur\")))),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"input-group\",style:{width:300,marginLeft:'auto',marginRight:'auto'}},React.createElement(\"label\",{className:\"input-group-text\",style:{backgroundColor:'#d0d7de'}},\" Vorname: \"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",\"aria-label\":\"Server\",value:this.state.firstname,placeholder:\"Vorname\",onChange:function onChange(text){return _this3.setState({firstname:text.target.value});}})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"input-group\",style:{width:300,marginLeft:'auto',marginRight:'auto'}},React.createElement(\"label\",{className:\"input-group-text\",style:{backgroundColor:'#d0d7de'}},\" Nachname: \"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",\"aria-label\":\"Server\",value:this.state.lastname,placeholder:\"Nachname\",onChange:function onChange(text){return _this3.setState({lastname:text.target.value});}})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"input-group\",style:{width:300,marginLeft:'auto',marginRight:'auto'}},React.createElement(\"label\",{className:\"input-group-text\",style:{backgroundColor:'#d0d7de'}},\" Username: \"),React.createElement(\"input\",{type:\"text\",className:\"form-control\",\"aria-label\":\"Server\",value:this.state.username,placeholder:\"Username\",onChange:function onChange(text){return _this3.setState({username:text.target.value.trim()});}})),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"input-group\",style:{width:300,marginLeft:'auto',marginRight:'auto'}},React.createElement(\"label\",{className:\"input-group-text\",style:{backgroundColor:'#d0d7de'}},\" Passwort: \"),React.createElement(\"input\",{type:\"password\",className:\"form-control\",\"aria-label\":\"Server\",value:this.state.password,secureTextEntry:true,placeholder:\"Passwort\",onChange:function onChange(text){return _this3.setState({password:text.target.value.trim()});}})),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"button\",{disabled:!this.validateForm(),type:\"button\",className:\"btn btn-primary\",onClick:this.handleSubmit,style:{marginLeft:'auto',marginRight:'auto'}},\"NEUES MITGLIED ANLEGEN \"),React.createElement(\"br\",null),React.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:this.changeRace,style:{marginLeft:'auto',marginRight:'auto'}},\" ZUR\\xDCCK  \"));}}]);return NewUserScreen;}(React.Component);export{NewUserScreen as default};","map":{"version":3,"sources":["/home/toni/PycharmProjects/PropraSource/frontend/NewUser.js"],"names":["React","styles","AsyncStorage","timeoutPromise","refreshToken","syncData","PickerItem","image","NewUserScreen","props","changeRace","event","preventDefault","getGroup","changeNewRace","navigation","push","changeNewOrder","changeWeather","changeShowRace","changeWheel","changeNewFormel","changeAstrid","changeNiklas","changeMaen","changeLogout","replace","changeHelper","state","firstname","lastname","username","password","group","handleChange","bind","handleSubmit","setState","target","alert","getItem","console","log","length","sendNewRaceRequest","fetch","method","headers","body","JSON","stringify","first_name","last_name","then","response","json","data","catch","error","overflowY","flex","backgroundColor","width","marginLeft","marginRight","color","textAlign","text","value","trim","validateForm","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {Button, Picker, Text, TextInput, ToastAndroid, View} from \"react-native\";\nimport {styles} from \"./styles\"\n//import { AsyncStorage } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {timeoutPromise, refreshToken, syncData} from \"./tools\";\nimport PickerItem from \"react-native-web/dist/exports/Picker/PickerItem\";\nimport image from './logo.png';\n\nexport default class NewUserScreen extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            firstname: '',\n            lastname: '',\n            username: '',\n            password: '',\n            group: 'Helper',\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n    handleChange(event) { this.setState({group: event.target.group});  }\n    handleSubmitDrop(event) {\n        alert('group is: ' + this.state.group);\n    event.preventDefault();\n    }\n\n    /*\n    getRaceId(){\n        var today = new Date();\n        var dd = String(today.getDate()).padStart(2, '0');\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\n        var yyyy = today.getFullYear();\n        today = dd+mm+yyyy;\n        this.state.date = dd+\".\"+mm+\".\"+yy;\n        this.state.id = parseInt(today);\n    }\n    */\n\n    async getGroup(){\n         const group = await AsyncStorage.getItem(\"usergroup\");\n         console.log(group)\n        if (group===\"Helper\"){\n            this.props.navigation.push(\"HelperNavigator\")\n        }\n        if (group===\"Ingenieur\"){\n            this.props.navigation.push(\"Nav\")\n        }\n        if (group===\"Manager\"){\n            this.props.navigation.push(\"Race\")\n        }\n    }\n\n    changeRace = event => {\n        event.preventDefault();\n        this.getGroup();\n    }\n\n    changeNewRace = event => {\n        event.preventDefault();\n        this.props.navigation.push('NewRace');\n    }\n\n    changeNewOrder = event => {\n        event.preventDefault();\n        this.props.navigation.push('NewOrder');\n    }\n\n\n    changeWeather = event => {\n        event.preventDefault();\n        this.props.navigation.push('Weather');\n    }\n\n    changeShowRace = event => {\n        event.preventDefault();\n        this.props.navigation.push('ShowRace');\n    }\n\n     changeWheel = event => {\n        event.preventDefault();\n        this.props.navigation.push('Wheel');\n    }\n\n    changeNewFormel = event => {\n        event.preventDefault();\n        this.props.navigation.push('NewFormel');\n    }\n\n    changeAstrid = event => {\n        event.preventDefault();\n        this.props.navigation.push('Astrid');\n    }\n\n    changeNiklas = event => {\n        event.preventDefault();\n        this.props.navigation.push('Niklas');\n    }\n\n    changeMaen = event => {\n        event.preventDefault();\n        this.props.navigation.push('Maen');\n    }\n\n    changeLogout = event => {\n        event.preventDefault();\n        this.props.navigation.replace('Logout');\n    }\n\n    changeHelper = event => {\n        event.preventDefault();\n        this.props.navigation.push('Helper')\n    }\n\n    validateForm() {\n        return this.state.username.length > 0 && this.state.password.length > 0  ;\n    }\n\n    handleSubmit(event){\n        event.preventDefault();\n        this.sendNewRaceRequest(this.state.username, this.state.firstname,this.state.lastname,\n            this.state.password,this.state.group);\n        this.props.navigation.push('Race');\n    }\n\n    async sendNewRaceRequest(username,firstname,lastname,password,group) {\n        console.log(group);\n       timeoutPromise(2000, fetch(\n            'https://api.race24.cloud/user/create', {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({\n                    username: username,\n                    first_name: firstname,\n                    last_name:lastname,\n                    password:password,\n                    group:group,\n                })\n            })\n            ).then(response => response.json()).then(data => {\n                if (data[1]==200) {\n                    console.log(data[0])\n                    this.props.navigation.replace('Race');\n                }\n                else {\n                    console.log(\"failed\")\n                }\n            }).catch(function (error) {\n                console.log(error);\n            })\n    }\n\n\n    render() {\n        return (\n            <View style={{overflowY: 'scroll', flex: 1, backgroundColor: '#2e3742'}}>\n                <nav className=\"navbar navbar-light\" style={{backgroundColor: '#d0d7de'}}>\n                    <div className=\"container-fluid\">\n                        <a className=\"navbar-brand\" href=\"#\"> <img src={image} style={{width: '70%'}}/> </a>\n                        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\"\n                                data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\"\n                                aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                            <span className=\"navbar-toggler-icon\"></span>\n                        </button>\n                        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeRace}>Hauptmenü</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeNewRace}>Neue Renndaten anlegen</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeShowRace}>Renndaten anzeigen</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeNewOrder}>Reifenbestellungen verwalten</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeAstrid}>Berechnung Reifendruck</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeWheel}>Reifendetails anzeigen</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeHelper}>Wetterdaten erfassen </button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeWeather}>Wetterdaten anzeigen</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeMaen}>Statistiken anzeigen</button>\n                                </li>\n                                <li className=\"nav-item\">\n                                    <button style={{backgroundColor: '#d0d7de'}} className=\"btn btn-sm\" aria-current=\"page\" onClick={this.changeNewFormel}>Formel Reifendruck anlegen</button>\n                                </li>\n                                <br/>\n                                <li className=\"nav-item\">\n                                    <button className=\"btn btn-primary btn-sm\" aria-current=\"page\" onClick={this.changeLogout}>Ausloggen</button>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </nav>\n                <div className='container' style={{marginLeft: 'auto', marginRight: 'auto'}}>\n                <br/>\n                <h1 className=\"display-4\" style={{color: '#d0d7de', textAlign: 'center'}}> Neues Mitglied anlegen</h1>\n                <br/>\n                </div>\n                <div className='input-group'>\n                    <label className='input-group-text' style={{backgroundColor: '#d0d7de', marginLeft: 'auto', marginRight: 'auto'}}>\n                          Gruppe auswählen: &nbsp;\n                        <select id='option' group={this.state.group} onChange={(text) => this.setState({group:text.target.value})}>\n                            <option group=\"Helfer\">Helfer</option>\n                            <option group=\"Manager\">Manager</option>\n                            <option group=\"Ingenieur\">Ingenieur</option>\n                        </select>\n                    </label>\n                </div>\n                <br/>\n                <div className='input-group' style={{width: 300, marginLeft: 'auto', marginRight: 'auto'}}>\n                    <label className='input-group-text' style={{backgroundColor: '#d0d7de' }}> Vorname: </label>\n                    <input type='text' className='form-control' aria-label='Server' value={this.state.firstname} placeholder=\"Vorname\"\n                           onChange={(text) => this.setState({firstname: text.target.value})}/>\n                </div>\n                <br/>\n                <div className='input-group' style={{width: 300, marginLeft: 'auto', marginRight: 'auto'}}>\n                    <label className='input-group-text' style={{backgroundColor: '#d0d7de' }}> Nachname: </label>\n                    <input type='text' className='form-control' aria-label='Server' value={this.state.lastname} placeholder=\"Nachname\"\n                           onChange={(text) => this.setState({lastname:text.target.value})}/>\n                </div>\n                <br/>\n                <div className='input-group' style={{width: 300, marginLeft: 'auto', marginRight: 'auto'}}>\n                    <label className='input-group-text' style={{backgroundColor: '#d0d7de' }}> Username: </label>\n                    <input type='text' className='form-control' aria-label='Server' value={this.state.username} placeholder=\"Username\"\n                           onChange={(text) => this.setState({username:text.target.value.trim()})}/>\n                </div>\n                <br/>\n                <div className='input-group' style={{width: 300, marginLeft: 'auto', marginRight: 'auto'}}>\n                    <label className='input-group-text' style={{backgroundColor: '#d0d7de' }}> Passwort: </label>\n                    <input type='password' className='form-control' aria-label='Server' value={this.state.password}\n                           secureTextEntry={true} placeholder=\"Passwort\" onChange={(text) => this.setState({password:text.target.value.trim()})}/>\n                </div>\n                <br/>\n                <br/>\n                <button disabled={!this.validateForm()} type='button' className='btn btn-primary'\n                        onClick={this.handleSubmit} style={{marginLeft: 'auto', marginRight: 'auto'}}>\n                        NEUES MITGLIED ANLEGEN </button>\n                <br/>\n                <button type='button' className='btn btn-primary'\n                        onClick={this.changeRace} style={{marginLeft: 'auto', marginRight: 'auto'}}> ZURÜCK  </button>\n            </View>\n        );\n    }\n\n}"]},"metadata":{},"sourceType":"module"}